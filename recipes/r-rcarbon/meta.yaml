{% set version = '1.5.1' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rcarbon
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/rcarbon_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/rcarbon/rcarbon_{{ version }}.tar.gz
  sha256: f59d4fec1c47fde1da7037273a3acc07079983280059aac23e8ac7a2a204ee71

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-dosnow
    - r-foreach
    - r-iterators
    - r-knitr
    - r-sf
    - r-snow
    - r-spatstat >=2.0_0
    - r-spatstat.explore
    - r-spatstat.geom
    - r-spatstat.linnet
    - r-spatstat.model
  run:
    - r-base
    - r-dosnow
    - r-foreach
    - r-iterators
    - r-knitr
    - r-sf
    - r-snow
    - r-spatstat >=2.0_0
    - r-spatstat.explore
    - r-spatstat.geom
    - r-spatstat.linnet
    - r-spatstat.model

test:
  commands:
    - $R -e "library('rcarbon')"           # [not win]
    - "\"%R%\" -e \"library('rcarbon')\""  # [win]

about:
  home: https://github.com/ahb108/rcarbon/
  license: GPL-2.0-only
  summary: 'Enables the calibration and analysis of radiocarbon dates, often but not exclusively
    for the purposes of archaeological research. It includes functions not only for
    basic calibration, uncalibration, and plotting of one or more dates, but also a
    statistical framework for building demographic and related longitudinal inferences
    from aggregate radiocarbon date lists, including: Monte-Carlo simulation test (Timpson
    et al 2014 <doi:10.1016/j.jas.2014.08.011>), random mark permutation test (Crema
    et al 2016 <doi:10.1371/journal.pone.0154809>) and spatial permutation tests (Crema,
    Bevan, and Shennan 2017 <doi:10.1016/j.jas.2017.09.007>).'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - conda-forge/r
    - barnabasharris

# Package: rcarbon
# Title: Calibration and Analysis of Radiocarbon Dates
# Version: 1.5.1
# Authors@R: c(person("Andrew","Bevan", role=c("aut"),email=c("andrew.bevan@gmail.com"),comment=c(ORCID="0000-0001-7967-3117")), person("Enrico","Crema", role=c("aut","cre"),email=c("enrico.crema@gmail.com"),comment=c(ORCID="0000-0001-6727-5138")), person("R. Kyle","Bocinsky",role=c("ctb"),email="bocinsky@gmail.com"), person("Martin","Hinz", role=c("ctb"),email="martin.hinz@iaw.unibe.ch"), person("Philip","Riris", role=c("ctb"),email="priris@bournemouth.ac.uk"), person("Fabio","Silva", role=c("ctb"),email="fabio.silva@ucl.ac.uk"))
# URL: https://github.com/ahb108/rcarbon/
# BugReports: https://github.com/ahb108/rcarbon/issues
# Description: Enables the calibration and analysis of radiocarbon dates, often but not exclusively for the purposes of archaeological research. It includes functions not only for basic calibration, uncalibration, and plotting of one or more dates, but also a statistical framework for building demographic and related longitudinal inferences from aggregate radiocarbon date lists, including: Monte-Carlo simulation test (Timpson et al 2014 <doi:10.1016/j.jas.2014.08.011>), random mark permutation test (Crema et al 2016 <doi:10.1371/journal.pone.0154809>) and spatial permutation tests (Crema, Bevan, and Shennan 2017 <doi:10.1016/j.jas.2017.09.007>).
# Depends: R (>= 3.3.0)
# Imports: sf,stats,spatstat.geom, spatstat.model,spatstat.explore, spatstat.linnet, spatstat (>= 2.0-0),graphics,grDevices,utils,snow,doSNOW,foreach,iterators,knitr
# Suggests: rmarkdown, testthat (>= 2.1.0)
# License: GPL (>= 2)
# Encoding: UTF-8
# LazyData: true
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# Language: en-GB
# NeedsCompilation: no
# Packaged: 2023-08-24 09:14:28 UTC; erc62
# Author: Andrew Bevan [aut] (<https://orcid.org/0000-0001-7967-3117>), Enrico Crema [aut, cre] (<https://orcid.org/0000-0001-6727-5138>), R. Kyle Bocinsky [ctb], Martin Hinz [ctb], Philip Riris [ctb], Fabio Silva [ctb]
# Maintainer: Enrico Crema <enrico.crema@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-08-24 11:20:10 UTC
