{% set name = "mpv" %}
{% set version = "0.35.1" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/mpv-player/mpv/archive/refs/tags/v{{ version }}.tar.gz
  sha256: 41df981b7b84e33a2ef4478aaf81d6f4f5c8b9cd2c0d337ac142fc20b387d1a9

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - meson
    - ninja
    - cmake
    - pkg-config
    - docutils
  host:
    - ffmpeg
    - libjpeg-turbo
    - libarchive
    - libass
    - lcms2
    - luajit  # [not arm64]
    - uchardet  # [not arm64]
    - vapoursynth
    - yt-dlp
    - xz
    - zlib
  run:
    - uchardet  # [not arm64]
    - vapoursynth
    - yt-dlp

test:
  commands:
    - mpv --ao=null --vo=null test.wav

about:
  home: https://mpv.io
  license: GPL-2.0
  license_file: LICENSE.GPL
  summary: 'Media player based on MPlayer and mplayer2'
  description: |
    MPV is a free, open-source, and cross-platform media player based on 
    MPlayer and mplayer2. It supports a wide variety of video file formats, 
    audio and video codecs, and subtitle types.

extra:
  recipe-maintainers:
    - Tobias-Fischer

