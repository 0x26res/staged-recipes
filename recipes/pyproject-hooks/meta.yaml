{% set name = "pyproject-hooks" %}
{% set version = "1.0.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/pypa/pyproject-hooks/archive/refs/tags/v{{ version }}.tar.gz
  sha256: d45c52f9af6bce94755eecf9dbfe6b3c89ef9a50088a8809f5bbec4ed0f9be0b

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  host:
    - python >=3.7
    - pip
    - tomli
    - python_version
    - flit-core
  run:
    - python >=3.7

test:
  imports:
    - pyproject_hooks
  source_files:
    - tests
  requires:
    - pip
    - pytest
    - testpath
  commands:
    - pip check
    - pytest

about:
  home: https://github.com/pypa/pyproject-hooks
  summary: 'This is a low-level library for calling build-backends in pyproject.toml-based project.'
  description: |
    It provides the basic functionality to help write tooling that
    generates distribution files from Python projects.
    If you want a tool that builds Python packages, you'll want to
    use https://github.com/pypa/build instead. This is an underlying
    piece for pip, build and other "build frontends" use to call
    "build backends" within them.
  license: MIT
  license_file: LICENSE
  doc_url: https://pyproject-hooks.readthedocs.io/en/latest/

extra:
  recipe-maintainers:
    - MementoRC
