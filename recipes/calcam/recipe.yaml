context:
  name: calcam
  version: "2.14.0"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  - url: https://github.com/euratom-software/${{ name }}/archive/refs/tags/${{ version }}.tar.gz
    sha256: 1e94ee4b0dfd207bcd6919686cd6c5b3af5b1713993c50857256a1d449b4631a

build:
  noarch: python
  script:
    - if: win
      then: |
        %PYTHON% -m pip install . -vv --no-deps --no-build-isolation
      else: |
        $PYTHON -m pip install . -vv --no-deps --no-build-isolation
  python:
    entry_points:
      - calcam = calcam:start_gui
  number: 0

requirements:
  host:
    - python >=3.5
    - pip
    - setuptools >=61.0
  run:
    - python >=3.5
    - matplotlib-base
    - opencv
    - pyqt
    - scipy
    - vtk >=7,!=9.1.*
    - h5py
    - triangle

tests:
  - python:
      imports: calcam
      pip_check: false

about:
  homepage: http://euratom-software.github.io/calcam/html/index.html
  summary: Spatial calibration tools for science & engineering camera systems (python module + GUI app).
  repository: https://github.com/euratom-software/calcam/
  documentation: http://euratom-software.github.io/calcam/html/index.html
  license: EUPL-1.1
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - ssilburn
    - munechika-koyo
