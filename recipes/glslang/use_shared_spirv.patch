diff --git a/CMakeLists.txt b/CMakeLists.txt
index d2eb3c51..c23c2ed9 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -282,7 +282,8 @@ if(BUILD_EXTERNAL AND IS_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/External)
     add_subdirectory(External)
 endif()
 
-if(NOT TARGET SPIRV-Tools-opt)
+find_package(SPIRV-Tools-opt)
+if(NOT SPIRV-Tools-opt_FOUND)
     set(ENABLE_OPT OFF)
 endif()
 
