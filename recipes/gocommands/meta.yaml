{% set name = "gocommands" %}
{% set version = "0.7.6" %}
{% set git_repo = "https://github.com/cyverse/gocommands" %}
{% set release_url = "https://github.com/cyverse/gocommands/releases" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-darwin-amd64.tar.gz  # [osx and x86_64]
  md5: b0d7a6d0ab22bc6e31386c8297b5a62b  # [osx and x86_64]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-darwin-arm64.tar.gz  # [arm64]
  md5: bfeabe3b04d97ed85bd2198c8033cc08  # [arm64]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-linux-386.tar.gz  # [linux32]
  md5: 4fc93d4a970372b9bae3da5834b499fa  # [linux32]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-linux-amd64.tar.gz  # [linux64]
  md5: 97d347f857b8755e5becb1df7815d825  # [linux64]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-linux-arm.tar.gz  # [linux and (armv7l or arm6l)]
  md5: 1cf087eb3a0abe1bf9477552f2084351  # [linux and (armv7l or arm6l)]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-linux-arm64.tar.gz  # [aarch64]
  md5: c2fcf9feb193d7456ffeab6f6c58991e  # [aarch64]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-windows-386.zip  # [win32]
  md5: 861a56677b750a6a59617da92f9d9025  # [win32]
  url: {{ release_url }}/download/v{{ version }}/gocmd-v{{ version }}-windows-amd64.zip  # [win64]
  md5: bec4e699ab1233f3fdba323e84678a97  # [win64]

build:
  number: 0
  overlinking_ignore_patterns:
    - "bin/*"
  # Our package contains only a single binary already compiled
  binary_relocation: False

test:
  commands:
    - gocmd --version
    - gocmd.exe --version

about:
  home: {{ git_repo }}
  summary: 'A protable command-line toolkit for iRODS'
  description: |
    gocommands is a portable command-line toolkit for iRODS data management service. 
    It can run on any systems, including linux, osx, and windows. As it is written in 
    pure Go language, it has no dependencies.
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE

extra:
  recipe-maintainers:
    # GitHub IDs for maintainers of the recipe.
    - iychoi
