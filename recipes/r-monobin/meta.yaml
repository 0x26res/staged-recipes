{% set version = '0.2.4' %}
{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-monobin
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/monobin_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/monobin/monobin_{{ version }}.tar.gz
  sha256: 8a701a9475fe72ed169efee5a9597571d3e50acdb689ebe8b68cfc26de61c080

build:
  merge_build_host: True  # [win]
  number: 0
  noarch: generic
  rpaths:
    - lib/R/lib/
    - lib/
  missing_dso_whitelist:
    - '*/R.dll'        # [win]
    - '*/Rblas.dll'    # [win]
    - '*/Rlapack.dll'  # [win]

requirements:
  build:
    - {{ posix }}zip               # [win]
    - cross-r-base {{ r_base }}    # [build_platform != target_platform]
  host:
    - r-base
    - r-hmisc
    - r-dplyr
  run:
    - r-base
    - r-hmisc
    - r-dplyr

test:
  commands:
    - $R -e "library('monobin')"           # [not win]
    - "\"%R%\" -e \"library('monobin')\""  # [win]

about:
  home: https://github.com/andrija-djurovic/monobin
  license: GPL-3.0-or-later
  summary: Performs monotonic binning of numeric risk factor in credit rating models (PD, LGD,
    EAD) development. All functions handle both binary and continuous target variable.
    Functions that use isotonic regression in the first stage of binning process have
    an additional feature for correction of minimum percentage of observations and minimum
    target rate per bin. Additionally, monotonic trend can be identified based on raw
    data or, if known in advance, forced by functions' argument. Missing values and
    other possible special values are treated separately from so-called complete cases.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - conda-forge/r
    - okankcb

# Package: monobin
# Title: Monotonic Binning for Credit Rating Models
# Version: 0.2.4
# Authors@R: person(given = "Andrija", family = "Djurovic", role = c("aut", "cre"), email = "djandrija@gmail.com")
# Maintainer: Andrija Djurovic <djandrija@gmail.com>
# Description: Performs monotonic binning of numeric risk factor in credit rating models (PD, LGD, EAD) development. All functions handle both binary and continuous target variable. Functions that use isotonic regression in the first stage of binning process have an additional feature for correction of minimum percentage of observations and minimum target rate per bin. Additionally, monotonic trend can be identified based on raw data or, if known in advance, forced by functions' argument. Missing values and other possible special values are treated separately from so-called complete cases.
# License: GPL (>= 3)
# URL: https://github.com/andrija-djurovic/monobin
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.1.1
# Depends: dplyr, Hmisc, R (>= 2.10)
# NeedsCompilation: no
# Packaged: 2022-07-21 09:00:36 UTC; adjurovic
# Author: Andrija Djurovic [aut, cre]
# Repository: CRAN
# Date/Publication: 2022-07-21 09:30:08 UTC
