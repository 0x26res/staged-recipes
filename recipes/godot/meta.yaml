{% set version = "4.1.1" %}

package:
  name: godot
  version: {{ version }}

source:
  url: https://github.com/godotengine/godot/releases/download/{{ version }}-stable/godot-{{ version }}-stable.tar.xz
  sha256: cd3cee1364020eb069f7cfdf2c484ba54fdeadc5a4d23fb9732d8e52923e1a71

build:
  number: 0

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - {{ cdt('mesa-libgl-devel') }}  # [linux]
    - scons >=3
    - python >=3.6
    - pkg-config
  host:
    - alsa-lib                       # [linux]
    - libudev                        # [linux]
    - xorg-libx11                    # [linux]
    - xorg-libxcursor                # [linux]
    - xorg-libxi                     # [linux]
    - xorg-libxinerama               # [linux]
    - xorg-libxrandr                 # [linux]
  run:
    - xorg-libx11                    # [linux]
    - xorg-libxcursor                # [linux]
    - xorg-libxi                     # [linux]
    - xorg-libxinerama               # [linux]
    - xorg-libxrandr                 # [linux]
test:
  commands:
    - godot --version
    - godot --help

about:
  home: https://godotengine.org
  summary: Godot Engine â€“ Multi-platform 2D and 3D game engine
  license: MIT
  license_family: MIT
  doc_url: https://docs.godotengine.org
  dev_url: https://github.com/godotengine/godot
  license_file:
    # LICENSES
    - COPYRIGHT.txt
    - LICENSE.txt
    - thirdparty/amd-fsr/license.txt
    - thirdparty/astcenc/LICENSE.txt
    - thirdparty/basis_universal/LICENSE
    - thirdparty/brotli/LICENSE
    - thirdparty/cvtt/LICENSE.txt
    - thirdparty/doctest/LICENSE.txt
    - thirdparty/enet/LICENSE
    - thirdparty/etcpak/LICENSE.txt
    - thirdparty/fonts/LICENSE.DroidSans.txt
    - thirdparty/fonts/LICENSE.JetBrainsMono.txt
    - thirdparty/fonts/LICENSE.Noto.txt
    - thirdparty/freetype/LICENSE.TXT
    - thirdparty/glad/LICENSE
    - thirdparty/glslang/LICENSE.txt
    - thirdparty/graphite/COPYING
    - thirdparty/harfbuzz/COPYING
    - thirdparty/icu4c/LICENSE
    - thirdparty/libogg/COPYING
    - thirdparty/libpng/LICENSE
    - thirdparty/libtheora/COPYING
    - thirdparty/libtheora/LICENSE
    - thirdparty/libvorbis/COPYING
    - thirdparty/libwebp/COPYING
    - thirdparty/mbedtls/LICENSE
    - thirdparty/meshoptimizer/LICENSE.md
    - thirdparty/minimp3/LICENSE
    - thirdparty/miniupnpc/LICENSE
    - thirdparty/msdfgen/LICENSE.txt
    - thirdparty/noise/FastNoise-LICENSE
    - thirdparty/oidn/LICENSE.txt
    - thirdparty/oidn/mkl-dnn/LICENSE
    - thirdparty/oidn/mkl-dnn/src/cpu/jit_utils/jitprofiling/LICENSE.BSD
    - thirdparty/oidn/mkl-dnn/src/cpu/xbyak/COPYRIGHT
    - thirdparty/oidn/weights/LICENSE.txt
    - thirdparty/openxr/COPYING.adoc
    - thirdparty/openxr/LICENSE
    - thirdparty/openxr/src/external/jsoncpp/LICENSE
    - thirdparty/pcre2/LICENCE
    - thirdparty/rvo2/LICENSE
    - thirdparty/spirv-reflect/LICENSE
    - thirdparty/thorvg/LICENSE
    - thirdparty/vhacd/LICENSE
    - thirdparty/volk/LICENSE.md
    - thirdparty/vulkan/LICENSE.txt
    - thirdparty/wslay/COPYING
    - thirdparty/xatlas/LICENSE
    - thirdparty/zlib/LICENSE
    - thirdparty/zstd/LICENSE
    # LICENSES

extra:
  recipe-maintainers:
    - bollwyvl
