context:
  name: textual-paint
  version: "0.4.0"
  python_min: "3.10"

package:
  name: ${{ name | lower }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/${{ name[0] }}/${{ name | replace("-", "_") }}/${{ name | replace("-", "_") }}-${{ version }}.tar.gz
  sha256: 87b42e39718ef1b627d14601d13acea224c9ac5991031edbc66da228c1b03b0e

build:
  noarch: python
  script: python -m pip install . -vv
  number: 0
  python:
    entry_points:
      - textual-paint = textual_paint.paint:main

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - poetry-core >=1.0.0
  run:
    - python >=${{ python_min }}
    - textual ==0.38.1
    - rich ==13.4.2
    - stransi ==0.3.0
    - pyperclip ==1.8.2
    - pyfiglet ==0.8.post1
    - pillow ==9.5.0
    - pygobject ==3.42.1
    - pyxdg ==0.28
    - pygobject ==3.42.1
    - if: osx
      then:
        - appscript ==1.2.2
        - pyobjc-framework-quartz ==9.2

tests:
  - script:
      - textual-paint --help
    requirements:
      run:
        - python ${{ python_min }}.*

about:
  homepage: https://github.com/1j01/textual-paint/tree/main
  summary: 'MS Paint in your terminal.'
  description: |
    stransi is a lightweight parser for ANSI escape code sequences. It implements a string-
    like type that is aware of its own ANSI escape sequences, and can be used to parse most
    of the common escape sequences used in terminal output manipulation.
  license: MIT
  license_file: LICENSE.txt

extra:
  recipe-maintainers:
    - claudiushaag
