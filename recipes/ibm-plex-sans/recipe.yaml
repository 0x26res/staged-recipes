# This example shows how to define a recipe using the new YAML based recipe format introduced by 
# CEP 13.

# For more information about this format see: https://prefix-dev.github.io/rattler-build/latest/reference/recipe_file/

# The main differences with the old format is that no preprocessing is required for the file to be valid YAML.
# This means:
# - No "selectors", use YAML if-then-else expressions instead (https://prefix-dev.github.io/rattler-build/latest/selectors/)
# - Jinja expressions are formatted with a leading `$` to make them valid YAML

# Note: there are many handy hints in comments in this example -- remove them when you've finalized your recipe

# Define variables in this section that you can use in other parts.
context:
  name: font-ttf-ibm-plex-sans
  version: "1.0.0"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/IBM/plex/releases/download/%40ibm%2Fplex-sans%40${{ version }}/ibm-plex-sans.zip
  sha256: 4aef1ff11b58892e1fb18383c1ea45544f87c9793b95216a357d4009ed927361

build:
  number: 0
  noarch: generic
  script:
    - mkdir -p $PREFIX/fonts
    - install -v -m644 fonts/complete/ttf/*.ttf $PREFIX/fonts/

requirements:
  build:
    - __unix

tests:
  - package_contents:
      files: 
        - fonts/IBMPlexSans-Bold.ttf
        - fonts/IBMPlexSans-BoldItalic.ttf
        - fonts/IBMPlexSans-ExtraLight.ttf
        - fonts/IBMPlexSans-ExtraLightItalic.ttf
        - fonts/IBMPlexSans-Italic.ttf
        - fonts/IBMPlexSans-Light.ttf
        - fonts/IBMPlexSans-LightItalic.ttf
        - fonts/IBMPlexSans-Medium.ttf
        - fonts/IBMPlexSans-MediumItalic.ttf
        - fonts/IBMPlexSans-Regular.ttf
        - fonts/IBMPlexSans-SemiBold.ttf
        - fonts/IBMPlexSans-SemiBoldItalic.ttf
        - fonts/IBMPlexSans-Text.ttf
        - fonts/IBMPlexSans-TextItalic.ttf
        - fonts/IBMPlexSans-Thin.ttf
        - fonts/IBMPlexSans-ThinItalic.ttf

about:
  homepage: https://www.ibm.com/plex/
  summary: 'IBM Plex typeface'
  description: |
    The IBM Plex typeface is an open-source project available for download and
    various uses following the Open Font License (OFL). 
    The IBM Plex family comes in Sans, Serif, Mono, and Sans Condensed,
    all with Roman and true italics.
    Plex has been designed to work well in user interface (UI) environments and other mediums.
  license: OFL-1.1
  license_file: LICENSE.txt
  repository: https://github.com/IBM/plex

extra:
  recipe-maintainers:
    - Hofer-Julian
