{% set name = "asapdiscovery" %}
{% set version = "0.3.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/choderalab/{{ name }}/archive/refs/tags/{{ version }}.tar.gz

  sha256: 4ef3177bc2754197437d931682bdbb2c72af69a8681dc74b8aef9cc3db5a93f9


build:
  script: build.sh
  number: 0
  noarch: python


requirements:
  build:
    - python >=3.9
  host:
    - python >=3.9
    - pip
  run:
    - python >=3.9

    # data
    - requests
    - boto3
    - moto
    - flask
    - flask-cors
    - typing-extensions
    - biopython
    - ase
    - validators
    - pyyaml
    - sigfig
    - multimethod

    # ml
    - pytorch
    - pytorch_geometric >=2.5.0
    - pytorch_cluster
    - pytorch_scatter
    - pytorch_sparse
    - numpy
    - h5py
    - e3nn
    - dgl
    - dgllife
    - pooch
    - mtenn >=0.5.1
    - wandb

    # md
    - openmm
    - openmmforcefields
    - mdtraj
    - openff-toolkit
    - cudatoolkit

    # execution
    - distributed
    - dask
    - dask-jobqueue
    - dask-cuda
    - netifaces

    # viz
    - imageio
    - pymol-open-source
    - gifsicle
    - plip
    - plotly
    - dash
    - pygifsicle
    - airium
    - logomaker

    # simulation
    - openfe =>0.14.0
    - gufe =>0.9.5
    - httpx
    - perses >=0.10.2
    - kartograf
    - rich
    - alchemiscale-client
    - cinnabar >=0.4.1 

    # testing
    - pytest
    - pytest-cov
    - pytest-xdist
    - codecov
    - pytest-console-scripts
    - pytest-timeout
    - requests-mock
    - mock

    # cli
    - click

    # other
    - appdirs
    - mdanalysis
    - openff-toolkit
    # - openeye-toolkits <2023.2.3
    - pandas
    - pydantic >=1.10.8,<2.0.0a0
    - rdkit
    - semver

test:
  # Some packages might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - asapdiscovery

  requires:
    - pip
  commands:
    - pip check

about:
  home: https://github.com/choderalab/asapdiscovery
  summary: 'blah'
  description: |
    Blah
  license: MIT
  license_family: MIT
  license_file: LICENSE
  doc_url: https://asapdiscovery.readthedocs.io/
  dev_url: https://github.com/choderalab/asapdiscovery

extra:
  recipe-maintainers:
    - hmacdope
    - mikemhenry
    - ijpulidos
    - apayne97
    - kaminow
