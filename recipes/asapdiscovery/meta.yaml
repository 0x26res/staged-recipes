{% set name = "asapdiscovery" %}
{% set version = "0.3.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/choderalab/asapdiscovery/archive/main.tar.gz
  sha256: 97f409132a9336a8097f0b5824f99533aa877122df49226c8f01cd45a013a45e

build:
  skip: true  # [py>311]
  skip: true  # [py<310]
  number: 0


requirements:
  build:
    - python >=3.6
    - pip
  host:
    - python >=3.6
    - pip
    - versioningit

  run:
    - python >=3.6

    # data
    - requests
    - boto3
    - moto
    - flask
    - flask-cors
    - typing-extensions
    - biopython
    - ase
    - validators
    - pyyaml
    - sigfig
    - multimethod
    - rdkit
    - appdirs
    - mdanalysis
    - openff-toolkit
    - pandas
    - pydantic >=1.10.8,<2.0.0a0
    - semver

    # ml
    - pytorch
    - pytorch_geometric >=2.5.0
    - pytorch_cluster
    - pytorch_scatter
    - pytorch_sparse
    - numpy
    - h5py
    - e3nn
    - dgl
    - dgllife
    - pooch
    - mtenn >=0.5.1
    - wandb

    # md
    - openmm
    - openmmforcefields
    - mdtraj
    - openff-toolkit
    - cudatoolkit # [not osx]

    # execution
    - distributed
    - dask
    - dask-jobqueue
    - dask-cuda # [not osx]
    - netifaces

    # viz
    - imageio
    - pymol-open-source
    - gifsicle
    - plip
    - plotly
    - pygifsicle
    - airium
    - logomaker

    # simulation
    - openfe =>0.14.0
    - gufe =>0.9.5
    - httpx
    - perses >=0.10.2
    - kartograf
    - rich
    - alchemiscale-client
    - cinnabar >=0.4.1 

    # testing
    - pytest
    - pytest-cov
    - pytest-xdist
    - codecov
    - pytest-console-scripts
    - pytest-timeout
    - requests-mock
    - mock

    # cli
    - click

test:
  imports:
    - asapdiscovery
  requires:
    - pip
    - pytest
  commands:
    - pytest -v -n auto --pyargs asapdiscovery-cli

about:
  home: https://github.com/choderalab/asapdiscovery
  summary: 'blah'
  description: |
    Blah
  license: MIT
  license_family: MIT
  license_file: LICENSE
  doc_url: https://asapdiscovery.readthedocs.io/
  dev_url: https://github.com/choderalab/asapdiscovery

extra:
  recipe-maintainers:
    - hmacdope
    - jthorton
    - mikemhenry
    - ijpulidos
