# yaml-language-server: $schema=https://raw.githubusercontent.com/prefix-dev/recipe-format/main/schema.json

context:
  name: dockle
  version: "0.4.14"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  - url: https://github.com/goodwithtech/${{ name }}/archive/refs/tags/v${{ version }}.tar.gz
    sha256: 0cf3bb72d756a2411497cd4689f35df41e194c9742e6c3031b45bbb9c3d23732
  - url: https://raw.githubusercontent.com/goodwithtech/deckoder/0910c80aae66d5b229e32e45fa916d45a326bfeb/LICENSE
    sha256: 8486a10c4393cee1c25392769ddd3b2d6c242d6ec7928e1414efff7dfb2f07ef
    file_name: LICENSE-goodwithtech-deckoder

build:
  skip:
    - win
  number: 0

requirements:
  build:
    - ${{ compiler('go-nocgo') }}
    - ${{ stdlib('c') }}
    - go-licenses

tests:
  - script: dockle --version | grep ${{ version }} | grep -v grep

about:
  homepage: https://containers.goodwith.tech
  summary: Container Image Linter for Security, Helping build the Best-Practice Docker Image, Easy to start
  license: Apache-2.0
  license_file:
    - LICENSE
    - library_licenses/
    - LICENSE-goodwithtech-deckoder
  repository: https://github.com/goodwithtech/dockle

extra:
  recipe-maintainers:
    - janjagusch
