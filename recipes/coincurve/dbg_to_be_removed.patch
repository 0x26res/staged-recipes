diff --git a/setup_support.py b/setup_support.py
index 035c459..92e452f 100644
--- a/setup_support.py
+++ b/setup_support.py
@@ -61,11 +61,18 @@ def _find_lib():
 
     from cffi import FFI
 
-    ffi = FFI()
     try:
-        ffi.dlopen('secp256k1')
-        return os.path.exists('/usr/include/secp256k1_ecdh.h')
-    except OSError:
+        print('Checking for system libsecp256k1')
+        # raises CalledProcessError if pkg-config is not installed or the lib does not exists
+        subprocess.check_output(['pkg-config', '--exists', 'libsecp256k1'])  # noqa S603
+        print('Found system libsecp256k1')
+
+        includes = subprocess.check_output(['pkg-config', '--cflags-only-I', 'libsecp256k1'])  # noqa S603
+        includes = includes.strip().decode('utf-8')
+
+        return os.path.exists(os.path.join(includes[2:], 'secp256k1_ecdh.h'))
+
+    except (OSError, subprocess.CalledProcessError):
         if 'LIB_DIR' in os.environ:
             for path in glob.glob(os.path.join(os.environ['LIB_DIR'], '*secp256k1*')):
                 with suppress(OSError):
@@ -74,6 +81,10 @@ def _find_lib():
         # We couldn't locate libsecp256k1 so we'll use the bundled one
         return False
 
+    except Exception as e:
+        print('Error while checking for system libsecp256k1', e)
+        return False
+
 
 _has_system_lib = None
 
