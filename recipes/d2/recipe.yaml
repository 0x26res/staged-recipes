context:
  name: d2
  version: 0.6.8

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  # build script relies on submodules
  git: https://github.com/terrastruct/d2
  tag: v${{ version }}

build:
  number: 0

requirements:
  build:
    - ${{ compiler("go-nocgo") }}
    - ${{ stdlib("c") }}
    - go-licenses
    - git


tests:
  - script:
    - d2 --help

about:
  homepage: https://github.com/terrastruct/d2
  summary: D2 is a modern diagram scripting language that turns text to diagrams.
  license: MPL-2.0
  license_file:
    - LICENSE.txt
    - library_licenses

extra:
  recipe-maintainers:
    - moritzwilksch
