{% set name = "ctre" %}
{% set version = "3.8" %}
{% set sha256 = "6462ee41fa6aa12075f6b9d13f42358091d32963087443a6669d2c94232eea04" %}


package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/hanickadot/compile-time-regular-expressions/archive/v{{ version }}.tar.gz
  sha256: {{ sha256 }}

build:
  number: 0
  noarch: generic


requirements:
  build:
    - {{ compiler('cxx') }}
    - cmake
    - make  # [unix]

test:
  commands:
    - test -d ${PREFIX}/include/ctll  # [unix]
    - test -d ${PREFIX}/include/ctre  # [unix]
    - test -d ${PREFIX}/include/unicode-db  # [unix]
    - test -f ${PREFIX}/include/ctll.hpp  # [unix]
    - test -f ${PREFIX}/include/ctre.hpp  # [unix]
    - test -f ${PREFIX}/include/ctre-unicode.hpp  # [unix]
    - test -f ${PREFIX}/include/unicode-db.hpp  # [unix]
    - if not exist %LIBRARY_PREFIX%\include\ctll\fixed_string.hpp (exit 1)  # [win]
    - if not exist %LIBRARY_PREFIX%\include\ctre\pcre.hpp (exit 1)  # [win]


about:
  home: https://github.com/hanikadot/compile-time-regular-expressions
  summary: 'Compile Time Regular Expression in C++'
  description: |
    Fast compile-time regular expressions with support for
    matching/searching/capturing during compile-time or runtime.
  # Remember to specify the license variants for BSD, Apache, GPL, and LGPL.
  # Use the SPDX identifier, e.g: GPL-2.0-only instead of GNU General Public License version 2.0
  # See https://spdx.org/licenses/
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - faceprint
