{% set name = "sortmerna" %}
{% set version = "4.3.7-beta.0" %}

package:
  name: {{ name|lower }}
  version: 4.3.7.beta.0 # {{ version }}

source:
  #git_url: ../../../{{name}}
  #git_url: https://github.com/{{name}}/{{name}}
  #git_rev: 5e6d8e0e8b83963f55e8b1e6046405e99e31c030
  #path: ../../../{{name}}
  url: https://github.com/{{name}}/{{name}}/archive/v{{version}}.tar.gz    # [not win]
  url: https://github.com/{{name}}/{{name}}/archive/v{{version}}.zip       # [win]
  sha256: 30d2659a90960c301d84c7c9d79b61741891cb23d7f19b3459716bd8344864f4 # [not win]

build:
  number: 0
  run_exports: []

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - cmake
    - git
  host:
    - python
    - pyyaml
    - jinja2
    - requests
  run:
    - python

test:
  commands:
  - test -f ${PREFIX}/bin/{{name}}             # [not win]
  - if not exist ${PREFIX}/bin/{{name}} exit 1 # [win]
  - ${PREFIX}/bin/{{name}} -h

about:
  home: http://bioinfo.lifl.fr/RNA/sortmerna
  license: LGPL
  summary: SortMeRNA is a biological sequence analysis tool for filtering, mapping and OTU-picking NGS reads.

extra:
  skip-lints:
    - should_be_noarch_generic
  identifiers:
    - biotools:sortmerna
    - doi:10.1093/bioinformatics/bts611
    - usegalaxy-eu:bg_sortmerna
