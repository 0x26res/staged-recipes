context:
  version: 2.0.0

package:
  name: trafilatura
  version: ${{ version }}

source:
- url: https://pypi.org/packages/source/t/trafilatura/trafilatura-${{ version }}.tar.gz
  sha256: ceb7094a6ecc97e72fea73c7dba36714c5c5b577b6470e4520dca893706d6247

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install .
  python:
    entry_points:
    - trafilatura  =  trafilatura.cli:main

requirements:
  host:
  - python ${{ python_min }}
  - setuptools
  - pip
  run:
  - python >=${{ python_min }}
  - certifi
  - charset-normalizer >=3.4.0
  - courlan >=1.3.2
  - htmldate >=1.9.2
  - justext >=3.0.1
  - lxml >=5.3.0
  - urllib3 <3,>=1.26

tests:
- python:
    imports:
    - trafilatura
    pip_check: true
- script:
    - trafilatura --help

about:
  summary: 'Python & Command-line tool to gather text and metadata on the Web: Crawling, scraping, extraction, output as CSV, JSON, HTML, MD, TXT, XML.'
  homepage: https://github.com/adbar/trafilatura
  description:
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
  - moritzwilksch
