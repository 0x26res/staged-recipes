{% set version = "0.0.7" %}

#NB get sha256 with: curl -sL <URL> | openssl sha256

package:
  name: simple-build-dgcode
  version: {{ version }}

source:
  url: https://github.com/mctools/simplebuild-dgcode/archive/v{{ version }}.tar.gz
  sha256: 51c9142d9ff6c3a1d0908ef5d3ebbb0c10647bb42c06397a2bc417eb71e5ab15

build:
  skip: True  # [win or py<39]
  number: 0
  entry_points:
    - dgcode_newsimproject = simplebuild_dgcode._cli:newsimproject

requirements:
  build:
    - python                                 # [build_platform != target_platform]
    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
  host:
    - python
    - pip
    - setuptools-git-versioning
    - setuptools
  run:
    - python
    - simple-build-system >= 0.0.36

test:
  requires:
    # Note: The actual tests are defined in run_test.sh
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - pip
    - geant4
    - ncrystal

about:
  home: https://mctools.github.io/simplebuild-dgcode
  summary: A very simple to use build system for scientific projects with C++/Python.
  description: |
    A set of simplebuild packages implementing "dgcode", a Geant4-based
    simulation framework. It is primarily intended for usage for simulation of
    thermal neutron detectors and related projects, and it originated in the
    Detector Group at the European Spallation Source ERIC.
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  doc_url: https://mctools.github.io/simplebuild-dgcode
  dev_url: https://github.com/mctools/simplebuild-dgcode

extra:
  recipe-maintainers:
    - tkittel
