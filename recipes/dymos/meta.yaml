{% set version = "1.7.0" %}

package:
  name: dymos
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/d/dymos/dymos-{{ version }}.tar.gz
  sha256: f56072629f1ce2db7fafe92e7dfae69f55de1637cd7eaaaedbf49fc14a06afb8

build:
  noarch: python
  number: 0
  script: {{ PYTHON }} -m pip install . -vv
  entry_points:
    - openmdao_report = dymos.linkage=dymos.visualization.linkage.report:_linkage_report_register

requirements:
  host:
    - python >=3.7
    - pip
  run:
    - openmdao >=3.17.0
    - numpy
    - packaging
    - python >=3.7
    - requests
    - scipy

test:
  script_env:
    - OPENMDAO_USE_MPI=1
    - OMPI_MCA_rmaps_base_oversubscribe=1
  requires:
    - aiounittest
    - numpydoc >=0.9.1
    - parameterized
    - pycodestyle >=2.4.0
    - pyoptsparse
    - testflo >=1.3.6
    # not fully testing viz YET, but does fulfill undocumented tornado dep
    - bokeh >=1.3.4
    - colorama
    - matplotlib-base
    - notebook
    - pydoe2
    - pyparsing
    - tabulate
    # for pip check
    - pip
    # from sphinx
    - jinja2 >=2.3,<3.0
    - markupsafe <2.0
  imports:
    - dymos
  commands:
    - python -m pip check

about:
  home: https://openmdao.github.io/dymos
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE
  summary: Dymos framework infrastructure
  description: |
    Dymos is a framework for the simulation and optimization of dynamical systems 
    within the OpenMDAO Multidisciplinary Analysis and Optimization environment. 
    Dymos leverages implicit and explicit simulation techniques to simulate generic 
    dynamic systems of arbitary complexity.
  doc_url: https://openmdao.github.io/dymos
  dev_url: https://github.com/OpenMDAO/dymos
  doc_source_url: https://github.com/OpenMDAO/dymos/tree/master/docs

extra:
  recipe-maintainers:
    - sanbales
