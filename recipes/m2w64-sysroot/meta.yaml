{% set name = "m2w64-sysroot" %}

package:
  name: {{ name|lower }}
  version: {{ GIT_DESCRIBE_TAG }}.r{{ GIT_DESCRIBE_NUMBER }}.g{{ GIT_DESCRIBE_HASH }}

source:
  git_url: https://github.com/mingw-w64/mingw-w64
  git_rev: 05598db

build:
  number: 0

requirements:
  build:
    - gcc_impl_win-64
  host:
  run:

test:
  commands:
    - echo "hello"

outputs:
  - name: mingw-w64-ucrt-x86_64-windows-default-manifest
    version: 6.4.4
    build:
      noarch: generic
    requirements:
      host:
      run:
        - __unix   # [unix]
        - __win    # [win]

    about:
      home: https://cygwin.com/
      license: BSD
      summary: |
        Default Windows application manifest (mingw-w64)

  - name: mingw-w64-ucrt-x86_64-headers-git
    build:
      noarch: generic
    requirements:
      host:
      run:
        - __unix   # [unix]
        - __win    # [win]
    about:
      home: https://www.mingw-w64.org/
      license: ZPL-2.1 AND LGPL-2.1-or-later
      license_file:
        - COPYING
        - COPYING.MinGW-w64/COPYING.MinGW-w64.txt
      summary: |
        MinGW-w64 headers for Windows (mingw-w64)

  - name: mingw-w64-ucrt-x86_64-winpthreads-git
    build:
      noarch: generic
    requirements:
      host:
        - mingw-w64-ucrt-x86_64-crt-git
      run:
        - __unix   # [unix]
        - __win    # [win]
        - mingw-w64-ucrt-x86_64-crt-git
    about:
      home: https://www.mingw-w64.org/
      license: MIT AND BSD-3-Clause-Clear
      license_file:
        - mingw-w64-libraries/winpthreads/COPYING
        - COPYING.MinGW-w64/COPYING.MinGW-w64.txt
      summary: |
        MinGW-w64 winpthreads library (mingw-w64)

  - name: mingw-w64-ucrt-x86_64-libwinpthread-git
    build:
      skip: True  # [not win]
    requirements:
      host:
      run:
    about:
      home: https://www.mingw-w64.org/
      license: MIT AND BSD-3-Clause-Clear
      license_file:
        - mingw-w64-libraries/winpthreads/COPYING
        - COPYING.MinGW-w64/COPYING.MinGW-w64.txt
      summary: |
        MinGW-w64 winpthreads library (mingw-w64)

  - name: mingw-w64-ucrt-x86_64-crt-git
    build:
      noarch: generic
    requirements:
      host:
        - mingw-w64-ucrt-x86_64-headers-git
      run:
        - __unix   # [unix]
        - __win    # [win]
        - mingw-w64-ucrt-x86_64-headers-git
    about:
      home: https://www.mingw-w64.org/
      license: ZPL-2.1
      license_file: COPYING
      summary: |
        MinGW-w64 CRT for Windows (mingw-w64)

  - name: m2w64-sysroot_win-64
    build:
      noarch: generic
    requirements:
      run:
        - __unix   # [unix]
        - __win    # [win]
        - {{ pin_subpackage("mingw-w64-ucrt-x86_64-windows-default-manifest", exact=True) }}
        - {{ pin_subpackage("mingw-w64-ucrt-x86_64-crt-git", exact=True) }}
        - {{ pin_subpackage("mingw-w64-ucrt-x86_64-headers-git", exact=True) }}
        - {{ pin_subpackage("mingw-w64-ucrt-x86_64-winpthreads-git", exact=True) }}
    about:
      home: https://mingw-w64.sourceforge.io/
      summary: |
        MinGW-w64 sysroot for Windows

about:
  home: https://github.com/mingw-w64/mingw-64
  summary: 'A complete runtime environment for GCC & LLVM for 32 and 64 bit windows'
  license: ZPL-2.1 AND LGPL-2.1-or-later and MIT AND BSD-3-Clause-Clear
  license_file:
    - COPYING
    - COPYING.MinGW-w64/COPYING.MinGW-w64.txt


extra:
  recipe-maintainers:
    - isuruf
