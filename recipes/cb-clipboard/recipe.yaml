context:
  name: Clipboard
  version: "0.9.0.1"
  author: Slackadays

package:
  name: cb-${{ name|lower }}
  version: ${{ version }}

source:
  url: https://github.com/${{ author }}/${{ name }}/archive/refs/tags/${{ version }}.tar.gz
  sha256: 187eba2a2c72d32d35ff750b947f1c812e33f9af538a6fc1b781e18a5e912d45
  patches:
    - CMakeLists.txt.patch

build:
  number: 0
  run_exports:
    - ${{ pin_subpackage("cb-" ~ name|lower, upper_bound="x.x") }}

requirements:

  build:
    - ${{ compiler("c") }}
    - ${{ compiler("cxx") }}
    - ${{ stdlib("c") }}
    - cmake
    - if: linux
      then:
        - pkg-config
        - wayland-protocols
  host:
    - if: linux
      then:
        - alsa-lib
        - xorg-libx11 
        - wayland 
  run:
    - if: linux
      then:
        - alsa-lib
        - xorg-libx11
        - wayland

tests:
  script:
    - cb --help

about:
  homepage: https://getclipboard.app
  license: GPL-3.0-or-later
  license_family: GPL3
  license_file: LICENSE
  summary: Your new, **_ridonkuliciously_** smart clipboard manager
  description: |
    The Clipboard Project (CB for short) is the oh-so-awesome 
    clipboard manager that's just like a second brain.
    It's fast and lightweight, feature packed, and super user friendly.
  repository: https://github.com/${{ author }}/${{ name }}
  documentation: https://getclipboard.app/docs

extra:
  recipe-maintainers:
    - eunos-1128
    - Slackadays
