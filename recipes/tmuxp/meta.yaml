{% set name = "tmuxp" %}
{% set version = "1.45.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 23b3ff0a8862a44c2bc687a553f78f4afd8f1e03371d775555a7699ed54572b4

build:
  noarch: python
  script: {{ PYTHON }} -m pip install --no-deps --no-build-isolation . -vv
  number: 0

requirements:
  host:
    - python >=3.8
    - pip
    - poetry
  run:
    - python >=3.8
    - colorama >=0.3.9
    - pyyaml >=6.0
    - libtmux >=0.36

test:
  requires:
    - pip
    - tmux  # [not win]
  files:
    - session.yaml
  commands:
    - pip check
    - tmuxp --version                  # [not win]
    - tmuxp.exe --version              # [win]
    - tmuxp load -d -y ./session.yaml  # [not win]

about:
  home: https://tmuxp.git-pull.com/
  doc_url: https://tmuxp.git-pull.com/
  dev_url: https://github.com/tmux-python/tmuxp
  summary: Session manager for tmux, build on libtmux
  description: |
    Session manager for tmux, which allows users to save and load tmux sessions through simple
    configuration files.
    Powered by libtmux.
  license: MIT
  license_family: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - AntoinePrv
