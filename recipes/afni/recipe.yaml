schema_version: 1

context:
  name: afni
  version: 25.0.00

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  - url: https://github.com/afni/afni/archive/refs/tags/AFNI_${{ version }}.tar.gz
    sha256: e94f7f36821be42f202d0cb9e132087bd9e36b5cfb63f411e3b5399998739192
    patches:
      - Makefile.patch

build:
  number: 0
  skip: not linux

requirements:
  build:
    - ${{ stdlib('c') }}
    - ${{ compiler('c') }}
    - make
    - if: linux
      then: libgomp
    - if: osx
      then: llvm-openmp
  host:
    - if: linux
      then: libgomp
    - if: osx
      then: llvm-openmp
    - libexpat
    - expat
    - python
    - setuptools
    - numpy
    - scipy
    - glib
    - matplotlib-base
    - qhull
    - openmotif-dev
    - libgl-devel
    - xorg-libxpm
    - xorg-libxi
    - libglu
    - zlib
  run:
    - python
  
tests:
  - script:
      - ls -la

about:
  homepage: https://github.com/afni/afni
  summary: A suite of programs for looking at and analyzing MRI brain images.
  description: AFNI (Analysis of Functional NeuroImages) is a suite of programs for 
    looking at and analyzing MRI brain images at all stages of analysis (planning, 
    setting up acquisition, preprocessing, analysis, quality control and statistical analysis).
  license: NIST-PD
  license_file: LICENSE.txt
  repository: https://github.com/afni/afni
  documentation: https://afni.nimh.nih.gov/pub/dist/doc/htmldoc/

extra:
  recipe-maintainers:
    - martin-g
