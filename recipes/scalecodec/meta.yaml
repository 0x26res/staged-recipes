{% set name = "scalecodec" %}
{% set version = "1.2.6" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 4d00b0ebe52bc35a8bdfebc76d92b196caef0d1f2d13637378d2e77e3afdfcca


build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv
  script_env:
    - GITHUB_REF="refs/tags/v"{{ version }}
  number: 0

requirements:
  host:
    - python >=3.8.0
    - pip
  run:
    - base58
    - more-itertools
    - requests
    - python >=3.8.0
    - setuptools

test:
  imports:
    - scalecodec
  files:
    - test
    - type_registry
  requires:
    - pip
    - pytest
  commands:
    - pip check
    - pytest -v test

about:
  home: https://github.com/polkascan/py-scale-codec
  summary: 'Python SCALE Codec Library'
  description: |
    Substrate uses a lightweight and efficient encoding and decoding program to 
    optimize how data is sent and received over the network. The program used to 
    serialize and deserialize data is called the SCALE codec, with SCALE being an 
    acronym for Simple Concatenated Aggregate Little-Endian.
  license: Apache-2.0
  license_file: LICENSE

extra:
  recipe-maintainers:
    - https://github.com/MementoRC
