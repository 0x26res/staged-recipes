{% set name = "build123d" %}
{% set version = "0.5.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/gumyr/build123d/archive/v{{ version }}.tar.gz
  sha256: 077a36ae95c6f22afc8fcc39373f34ea46720095c387925bff490f3092b68916

build:
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv
  number: 0

requirements:
  build:
    - python
    - pip
  run:
    - python
    - typing_extensions >=4.6.0,<5
    - numpy
    - svgpathtools >=1.5.1,<2
    - anytree >=2.8.0,<3
    - ezdxf >1.0.0,<2
    - numpy-stl >3.0.0,<4
    - ocp >=7.7.0
    - cadquery
    # ipython >=8.0.0,<9 # This doesn't seem to be used except in example?
    # Not in conda-forge
    - py-lib3mf
    - trianglesolver
    - ocpsvg
    # Complex: This is the cadquery bindings to specific OCP version

test:
  # Some packages might need a `test/commands` key to check CLI.
  # List all the packages/modules that `run_test.py` imports.
  imports:
    - build123d
  requires:
    - pip
    - pytest
  commands:
    - pip check
    - pytest

about:
  home: https://github.com/gumyr/build123d
  summary: 'A python CAD programming library'
  description: |
    Build123d is a python-based, parametric, boundary representation (BREP)
    modeling framework for 2D and 3D CAD. It's built on the Open Cascade
    geometric kernel and allows for the creation of complex models using a
    simple and intuitive python syntax. Build123d can be used to create
    models for 3D printing, CNC machining, laser cutting, and other
    manufacturing processes. Models can be exported to a wide variety of
    popular CAD tools such as FreeCAD and SolidWorks.
  license: Apache-2.0
  license_family: Apache
  # It is required to include a license file in the package,
  # (even if the license doesn't require it) using the license_file entry.
  # Please also note that some projects have multiple license files which all need to be added using a valid yaml list.
  # See https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html#license-file
  license_file: LICENSE
  doc_url: https://build123d.readthedocs.io/
  dev_url: https://github.com/simplejson/simplejson

extra:
  recipe-maintainers:
    - ndevenish
